{% extends 'TwilightBark/base.html' %}

{% block content %}
<main>
	<div class="w-full flex flex-col items-center text-center text-teal-500">
		<span class="material-icons pt-20 pb-10 mx-auto text-transparent bg-gradient-to-r from-cyan-600 to-teal-500 bg-clip-text text-9xl">pets</span>
		<h1 class="text-4xl mb-4">Welcome to Angel's Twilight Bark!</h1>
		<input id="room-name-input" type="text" class="w-1/2 rounded-lg border-none focus:ring-2 focus:ring-teal-500 text-teal-500 bg-stone-900"><br>
		<button id="room-name-submit" type="submit" class="p-2 w-1/2 rounded-lg bg-gradient-to-r from-cyan-600 to-teal-500 shadow font-bold text-stone-800 focus:outline-none hover:from-pink-600 hover:to-pink-600 focus:from-pink-600 focus:to-pink-600 duration-500">Join</button>
		
		{% if not request.user.is_authenticated %}
			<p class="mt-3 mb-20 text-xl">Only registered users can chat.
				<span class="hover:text-pink-600">
					<a href={% url 'user:register' %}>SIGN UP</a>
				</span> today!</p>
	{% endif %}
		</div>
		<script>
			document.querySelector('#room-name-input').focus();
			document.querySelector('#room-name-input').onkeyup = (e) => {
				if (e.keyCode === 13)
					document.querySelector('#room-name-submit').click();
			};

			document.querySelector('#room-name-submit').onclick = (e) => {
				var roomName = document.querySelector('#room-name-input').value;
				window.location.pathname = '/chat/' + roomName + '/';
			};
		</script>
</main>
{% endblock %}
